<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: Thermal Imaging Nerf Turret: src.controller.PIController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME 405 Term Project: Thermal Imaging Nerf Turret<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">A library that contains software used to control and fire an automated Nerf turret. The turret uses a MLX90640 Thermal Imaging camera to determine opponent&#39;s position and fire.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classsrc_1_1controller_1_1_p_i_controller.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classsrc_1_1controller_1_1_p_i_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">src.controller.PIController Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The class initializes a proportional gain constant, Kp, an integral gain Ki and a desired setpoint for a system.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a768228ddee264c03505b2fafd0ee647d" id="r_a768228ddee264c03505b2fafd0ee647d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a768228ddee264c03505b2fafd0ee647d">__init__</a> (self, Kp, Ki, setPoint)</td></tr>
<tr class="memdesc:a768228ddee264c03505b2fafd0ee647d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the proportional and integral gain constants and desired setpoint.  <br /></td></tr>
<tr class="separator:a768228ddee264c03505b2fafd0ee647d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a350c15babf09807ee21ac450dda9eb6e" id="r_a350c15babf09807ee21ac450dda9eb6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a350c15babf09807ee21ac450dda9eb6e">run</a> (self, actualVal)</td></tr>
<tr class="memdesc:a350c15babf09807ee21ac450dda9eb6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles control by comparing the current system value to the desired set point, and then computing the error.  <br /></td></tr>
<tr class="separator:a350c15babf09807ee21ac450dda9eb6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c868454915ec6188e64fb5e5c8453f9" id="r_a3c868454915ec6188e64fb5e5c8453f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c868454915ec6188e64fb5e5c8453f9">set_setpoint</a> (self, setPt)</td></tr>
<tr class="memdesc:a3c868454915ec6188e64fb5e5c8453f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the desired setpoint.  <br /></td></tr>
<tr class="separator:a3c868454915ec6188e64fb5e5c8453f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca90e0e016e7dc83b4b3c0b1704f1e0" id="r_aeca90e0e016e7dc83b4b3c0b1704f1e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeca90e0e016e7dc83b4b3c0b1704f1e0">set_Kp</a> (self, Kp)</td></tr>
<tr class="memdesc:aeca90e0e016e7dc83b4b3c0b1704f1e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the proportional gain.  <br /></td></tr>
<tr class="separator:aeca90e0e016e7dc83b4b3c0b1704f1e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d4aa4da4d85d1491452546ba11a766" id="r_ac3d4aa4da4d85d1491452546ba11a766"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3d4aa4da4d85d1491452546ba11a766">set_Ki</a> (self, Ki)</td></tr>
<tr class="memdesc:ac3d4aa4da4d85d1491452546ba11a766"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the intergral gain.  <br /></td></tr>
<tr class="separator:ac3d4aa4da4d85d1491452546ba11a766"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:acaf6769925b7a9b77033006e44b31ae4" id="r_acaf6769925b7a9b77033006e44b31ae4"><td class="memItemLeft" align="right" valign="top"><a id="acaf6769925b7a9b77033006e44b31ae4" name="acaf6769925b7a9b77033006e44b31ae4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Kp</b></td></tr>
<tr class="separator:acaf6769925b7a9b77033006e44b31ae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e830a80a32c3dbbeed8c85fe4e99b9" id="r_ae6e830a80a32c3dbbeed8c85fe4e99b9"><td class="memItemLeft" align="right" valign="top"><a id="ae6e830a80a32c3dbbeed8c85fe4e99b9" name="ae6e830a80a32c3dbbeed8c85fe4e99b9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Ki</b></td></tr>
<tr class="separator:ae6e830a80a32c3dbbeed8c85fe4e99b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73e2efb17f67240420b83644ec3eeca" id="r_ac73e2efb17f67240420b83644ec3eeca"><td class="memItemLeft" align="right" valign="top"><a id="ac73e2efb17f67240420b83644ec3eeca" name="ac73e2efb17f67240420b83644ec3eeca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>setPoint</b></td></tr>
<tr class="separator:ac73e2efb17f67240420b83644ec3eeca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51fa0362f9919a338cc1e2aaa8bb355c" id="r_a51fa0362f9919a338cc1e2aaa8bb355c"><td class="memItemLeft" align="right" valign="top"><a id="a51fa0362f9919a338cc1e2aaa8bb355c" name="a51fa0362f9919a338cc1e2aaa8bb355c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>totalE</b></td></tr>
<tr class="separator:a51fa0362f9919a338cc1e2aaa8bb355c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The class initializes a proportional gain constant, Kp, an integral gain Ki and a desired setpoint for a system. </p>
<p>When feedback is applied through the run() method, the error in the system is calculated, and the proportional and integral gain is applied. Rapidly and repeatedly calling run() enables one to create a closed loop proportional controller. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a768228ddee264c03505b2fafd0ee647d" name="a768228ddee264c03505b2fafd0ee647d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a768228ddee264c03505b2fafd0ee647d">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.controller.PIController.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Kp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Ki</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>setPoint</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the proportional and integral gain constants and desired setpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td>User specified proportional gain constant. </td></tr>
    <tr><td class="paramname">Ki</td><td>User specified integral gain constant </td></tr>
    <tr><td class="paramname">setPoint</td><td>Desired setpoint for the system to be driven to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a350c15babf09807ee21ac450dda9eb6e" name="a350c15babf09807ee21ac450dda9eb6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a350c15babf09807ee21ac450dda9eb6e">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.controller.PIController.run </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>actualVal</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function handles control by comparing the current system value to the desired set point, and then computing the error. </p>
<p>The error is then multiplied by the gain Kp to obtain proportional control. The total error is integrated by summing it, and then Ki is applied to obtain integral control. Together, this creates a PI controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actualVal</td><td>The measured current value of the system. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The output to be sent to the system driver as a float. (For a motor system, this is the PWM duty cycle percentage to be sent to the motor) </dd></dl>

</div>
</div>
<a id="ac3d4aa4da4d85d1491452546ba11a766" name="ac3d4aa4da4d85d1491452546ba11a766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d4aa4da4d85d1491452546ba11a766">&#9670;&#160;</a></span>set_Ki()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.controller.PIController.set_Ki </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Ki</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the intergral gain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ki</td><td>The new integral gain value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeca90e0e016e7dc83b4b3c0b1704f1e0" name="aeca90e0e016e7dc83b4b3c0b1704f1e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeca90e0e016e7dc83b4b3c0b1704f1e0">&#9670;&#160;</a></span>set_Kp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.controller.PIController.set_Kp </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Kp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the proportional gain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td>The new proportional gain value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c868454915ec6188e64fb5e5c8453f9" name="a3c868454915ec6188e64fb5e5c8453f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c868454915ec6188e64fb5e5c8453f9">&#9670;&#160;</a></span>set_setpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.controller.PIController.set_setpoint </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>setPt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the desired setpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">setPt</td><td>The new desired setpoint of the system. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="controller_8py.html">controller.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>src</b></li><li class="navelem"><b>controller</b></li><li class="navelem"><a class="el" href="classsrc_1_1controller_1_1_p_i_controller.html">PIController</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
